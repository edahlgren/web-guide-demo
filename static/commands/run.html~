<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>/</title>
    <link rel="stylesheet" type="text/css" href="/assets/main.css">
  </head>

  <body>
    <div class="container">

      <!-- start nav -->
      <div class="nav-container">
        <div class="nav">

          <table>
            <tbody>
              
              <tr class="title">
                <td></td> <!-- no label -->
                <td><a href="/index.html">Home</a></td>
              </tr>
              
              <tr class="hspace-0.5"></tr>
              
              <tr>
                <td></td> <!-- no label -->
                <td>
                  <a class="section" href="/index.html#layout-of-the-demo">
                    Layout of the demo
                  </a>
                </td>
              </tr>
              <tr>
                <td></td> <!-- no label -->
                <td>
                  <a class="section" href="/index.html#first-time-guide">
                    First time guide
                  </a>
                </td>
              </tr>
              <tr>
                <td></td> <!-- no label -->
                <td>
                  <a class="section" href="/index.html#stuck">
                    Stuck?
                  </a>
                </td>
              </tr>
              
              <tr class="hspace-2"></tr>

              <tr class="title">
                <td></td> <!-- no label -->
                <td>Guides</td>
              </tr>
              
              <tr class="hspace-0.5"></tr>

              <tr>
                <td></td> <!-- no label -->
                <td>
                  <a class="section" href="/guides/run.html">
                    Run the demo
                  </a>
                </td>
              </tr>
              <tr>
                <td></td> <!-- no label -->
                <td>
                  <a class="section" href="/guides/change.html">
                    Change the demo
                  </a>
                </td>
              </tr>
              <tr>
                <td></td> <!-- no label -->
                <td>
                  <a class="section" href="/guides/learn.html">
                    Learn about the demo
                  </a>
                </td>
              </tr>
              <tr>
                <td><span class="label red pr-0.5">A</span></td>
                <td>
                  <a class="section" href="/guides/configure.html">
                    Reconfigure the demo
                  </a>
                </td>
              </tr>
              
              <tr class="hspace-2"></tr>
              
              <tr class="title">
                <td/> <!-- no label -->
                <td>Built-in commands</td>
              </tr>
              
              <tr class="hspace-0.5"></tr>

              <tr>
                <td><span class="label grey-blue pr-0.5">O</span></td>
                <td>
                  <a class="section" href="/commands/shell.html">
                    shell
                  </a>
                </td>
              </tr>
              <tr>
                <td><span class="label grey-blue pr-0.5">O</span></td>
                <td>
                  <a class="section" href="/commands/browse.html">
                    browse
                  </a>
                </td>
              </tr>
              <tr>
                <td><span class="label light-blue pr-0.5">I</span></td>
                <td>
                  <a class="section" href="/commands/run.html">
                    run
                  </a>
                </td>
              </tr>
              <tr>
                <td><span class="label light-blue pr-0.5">I</span></td>
                <td>
                  <a class="section" href="/commands/build.html">
                    build
                  </a>
                </td>
              </tr>
              <tr>
                <td><span class="label light-blue pr-0.5">I</span></td>
                <td>
                  <a class="section" href="/commands/share_sync.html">
                    share/sync
                  </a>
                </td>
              </tr>
              <tr>
                <td><span class="label light-blue pr-0.5">I</span></td>
                <td>
                  <a class="section" href="/commands/check.html">
                    check
                  </a>
                </td>
              </tr>
              <tr class="hspace-2"></tr>
            </tbody>
          </table>

          <hr />
          
          <table class="legend">
            <tr>
              <td><span class="label red">A</span></td>
              <td>=</td>
              <td>Advanced</td>
            </tr>
            <tr>
              <td><span class="label grey-blue">O</span></td>
              <td>=</td>
              <td>Run outside the demo</td>
            </tr>
            <tr>
              <td><span class="label light-blue">I</span></td>
              <td>=</td>
              <td>Run inside the demo</td>
            </tr>
          </table>
        
        </div>
      </div>
      <!-- end nav -->

      <!-- start content -->
      <div class="content">
        <!-- Doc content -->
<div class="doc">

  <!-- Command title and short description -->
  <h1 class="mb-0.25" id="title">run</h1>
  <div class="under-h1">
    Run the demo using a built-in script or your choice of command line options
  </div>

  <!-- Description of what the demo does, potentially using pictures -->
  <p>
    The <span class="inline-code">ant colony search</span> demo solves the traveling salesman problem using an artificial colony of ants. The traveling salesman problem is to find the shortest roundtrip through a sales region, visiting every city and town. In the demo, artificial ants act like salespeople, exploring a map in search for the shortest paths. For example:
  </p>

  <table>
    <tbody>
      <tr>
        <td class="em">Country</td>
        <td>
          <img class="grid-img" src="/assets/djibouti_map.jpg" />
          <div class="under-img">Djibouti (Africa)</div>
        </td>
        <td>
          <img class="grid-img" src="/assets/qatar_map.jpg" />
          <div class="under-img">Qatar (Middle East)</div>
        </td>
        <td>
          <img class="grid-img" src="/assets/luxembourg_map.jpg" />
          <div class="under-img">Luxembourg (Europe)</div>
        </td>
      </tr>
      <tr>
        <td class="em">Cities</td>
        <td>
          <img class="grid-img" src="/assets/djibouti_cities.gif" />
        </td>
        <td>
          <img class="grid-img" src="/assets/qatar_cities.gif" />
        </td>
        <td>
          <img class="grid-img" src="/assets/luxembourg_cities.gif" />
        </td>
      </tr>
      <tr>
        <td class="em">Optimal<br/>tour</td>
        <td>
          <img class="grid-img" src="/assets/djibouti_tour.gif" />
        </td>
        <td>
          <img class="grid-img" src="/assets/qatar_tour.gif" />
        </td>
        <td>
          <img class="grid-img" src="/assets/luxembourg_tour.gif" />
        </td>
      </tr>
      
    </tbody>
  </table>

  <p>
    When thought about in an abstract way, the traveling salesman problem can be used for more than just routing salesmen along roads. In fact it has been useful in areas as different as DNA sequencing and astronomy. It's a generalization, or metaphor, for problems where one needs to find the best use of limited resources.
  </p>

  <h2 class="mt-2">Examples</h2>

  <h3>See the built-in scripts</h3>

  <pre><code>$ demo run
</code></pre>

  <pre class="output"><code>script        description
      
djibouti      Find the shortest roundtrip through Djibouti
                Takes            5-6 seconds
                Traverses        38 cities
                Optimal result   6656 length of tour

qatar         Find the shortest roundtrip through Qatar
                Takes            5-6 seconds
                Traverses        194 cities
                Optimal result   9352 (length of tour)

luxembourg    Find the shortest roundtrip through Luxembourg
                Takes            5-6 seconds
                Traverses        980 cities
                Optimal result   11340 (length of tour)
</code></pre>
  
  <div class="mt-2 flex">
    <div>
      <h3>Try djibouti</h3>
      
      <pre><code>$ demo run djibouti
</code></pre>
      
      <pre class="output"><code>[Command line]

/root/src/acotsp \
    -i /root/data/djibouti/dj38.tsp \
    --mmas \
    --tries 1 \
    --time 5
          
[Logs]

starting try 1 ...
best so far 6656, iteration: 1, time 0.00, branching factor 0.00000
best so far 6656, iteration: 100, time 0.04, branching factor 1.00000
best so far 6656, iteration: 200, time 0.08, branching factor 1.00000
best so far 6656, iteration: 300, time 0.12, branching factor 1.00000
best so far 6656, iteration: 400, time 0.16, branching factor 1.00000
...
best so far 6656, iteration: 12700, time 4.93, branching factor 1.00000
best so far 6656, iteration: 12800, time 4.97, branching factor 1.00000

 best solution in try 1 is 6656
 best solution was found after 1 iteration(s)
 best solution was found at time 0.000600
          
</code></pre>

      <h3>Output files</h3>
      <table>
        <tbody>
          <tr>
            <td>best.dj38</td>
            <td>Statistics about the best solutions found</td>
          </tr>
          <tr>
            <td>cmp.dj38</td>
            <td>Comparative statistics about all runs</td>
          </tr>
          <tr>
            <td>stat.dj38</td>
            <td>Unlabeled statistics (see source code)</td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <div>
      <h3>Try qatar</h3>
      
      <pre><code>$ demo run qatar
</code></pre>
      
      <pre class="output"><code>[Command line]

/root/src/acotsp \
    -i /root/data/qatar/qa194.tsp \
    --mmas \
    --tries 1 \
    --time 5
          
[Logs]

starting try 1 ...
best so far 9417, iteration: 1, time 0.00, branching factor 0.00000
best so far 9360, iteration: 4, time 0.02, branching factor 1.25000
best so far 9358, iteration: 7, time 0.03, branching factor 1.45361
best so far 9352, iteration: 31, time 0.11, branching factor 1.36082
best so far 9352, iteration: 100, time 0.28, branching factor 0.99742
...
best so far 9352, iteration: 1800, time 4.53, branching factor 0.99742
best so far 9352, iteration: 1900, time 4.81, branching factor 1.04897

 best solution in try 1 is 9352
 best solution was found after 31 iteration(s)
 best solution was found at time 0.107453
          
</code></pre>

      <h3>Output files</h3>
      <table>
        <tbody>
          <tr>
            <td>best.qa194</td>
            <td>Statistics about the best solutions found</td>
          </tr>
          <tr>
            <td>cmp.qa194</td>
            <td>Comparative statistics about all runs</td>
          </tr>
          <tr>
            <td>stat.qa194</td>
            <td>Unlabeled statistics (see source code)</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  
  <h2 class="mt-2">Command line options</h2>

  <table>
    <tbody>
      <tr>
        <td class="em">Choose one: Type of artificial ant colony</td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>--mmas, -x</td>
        <td><div class="label red pr-0.5">D</div></td>
        <td>MAX-MIN Ant System</td>
      </tr>
      <tr>
        <td>--as, -u</td>
        <td></td>
        <td>Basic Ant System</td>
      </tr>
      <tr>
        <td>--eas, -v</td>
        <td></td>
        <td>Elitist Ant System</td>
      </tr>
      <tr>
        <td>--ras, -w</td>
        <td></td>
        <td>Rank-based Ant System</td>
      </tr>
      <tr>
        <td>--acs, -z</td>
        <td></td>
        <td>Ant Colony System</td>
      </tr>
      <tr>
        <td>--bwas, -y</td>
        <td></td>
        <td>Best-worst Ant System</td>
      </tr>
      
      <tr class="hspace-1"></tr>
      
      <tr>
        <td class="em">Choose any</td>
        <td></td>
        <td></td>
      </tr>
      <tr>
        <td>--tsplibfile, -i</td>
        <td><div class="label light-blue pr-0.5">ND</div></td>
        <td>Path to a <a href="https://wwwproxy.iwr.uni-heidelberg.de/groups/comopt/software/TSPLIB95/tsp95.pdf">TSPLIB</a> formatted file</td>
      </tr>
      <tr>
        <td>--tries, -r</td>
        <td>10</td>
        <td>Number of independent trials</td>
      </tr>
      <tr>
        <td>--tours, -s</td>
        <td>0</td>
        <td>Number of steps in each trial</td>
      </tr>
      <tr>
        <td>--time, -t</td>
        <td>10</td>
        <td>Maximum time for each trial in seconds</td>
      </tr>
      <tr>
        <td>--seed</td>
        <td>current time</td>
        <td>Seed for the internal random number generator</td>
      </tr>
      <tr>
        <td>--optimum, -o</td>
        <td>1</td>
        <td>Stop if solution is better or equal to this number (lower is better)</td>
      </tr>
      <tr>
        <td>--ants, -m</td>
        <td>25</td>
        <td>Number of ants (ant colony size)</td>
      </tr>
      <tr>
        <td>--nnants, -g</td>
        <td>20</td>
        <td>Number of ants that can communicate (neighborhood of ants)</td>
      </tr>
      <tr>
        <td>--alpha, -a</td>
        <td>1</td>
        <td>Influence of pheromone trails</td>
      </tr>
      <tr>
        <td>--beta, -b</td>
        <td>2</td>
        <td>Influence of heuristic information</td>
      </tr>
      <tr>
        <td>--rho, -e</td>
        <td>0.5</td>
        <td>Pheromone trail evaporation rate</td>
      </tr>
      <tr>
        <td>--q0, -q</td>
        <td>0.00</td>
        <td>Probability of finding the best solution</td>
      </tr>
      <tr>
        <td>--elitistants, -c</td>
        <td>0</td>
        <td>Number of elitist ants (with --eas only)</td>
      </tr>
      <tr>
        <td>--rasranks, -f</td>
        <td>0</td>
        <td>Number of ranks (with --ras only)</td>
      </tr>
      <tr>
        <td>--localsearch, -l</td>
        <td>3</td>
        <td>Configure local search</td>
      </tr>
      <tr>
        <td>--nnls, -k</td>
        <td>20</td>
        <td>Number of ants in a neighborhood for local search</td>
      </tr>
      <tr>
        <td>--dlb, -d</td>
        <td>true</td>
        <td>Use don't look bits in local search</td>
      </tr>
      <tr>
        <td>--quiet</td>
        <td>false</td>
        <td>Reduce output to a minimum</td>
      </tr>
    </tbody>
  </table>
  
  <table class="legend underhang">
    <tr>
      <td><span class="label red">D</span></td>
      <td>=</td>
      <td>Used when no options specified</td>
    </tr>
    <tr>
      <td><span class="label light-blue">ND</span></td>
      <td>=</td>
      <td>No default, this option is required</td>
    </tr>
  </table>

  <!-- command line examples -->
  
  <pre id="e1"><code>$ demo run -i /root/data/djibouti/dj38.tsp --eas
</code></pre>

  <pre id="e2"><code>$ demo run -i /root/data/qatar/qa194.tsp --time 20
</code></pre>

  <pre id="e3"><code>$ demo run -i /root/data/djibouti/dj38.tsp --ants 100
</code></pre>

  <pre id="e4"><code>$ demo run -i /root/data/luxembourg/lu980.tsp --as --nnants 40
</code></pre>

  <!-- gutter labels for command line examples -->
  <div class="hidden">
    <p id="gutter-e1">Use the Elitist Ant System algorithm to solve Djibouti</p>
    <p id="gutter-e2">Spend 20 seconds solving Qatar</p>
    <p id="gutter-e3">Use 100 ants to solve Djibouti</p>
    <p id="gutter-e4">Use the Basic Ant System and allow each ant to share information with its nearest 40 neighbors to solve Luxembourg</p>
  </div>

  <h2 class="mt-2">Included test data</h2>

  <table>
    <tbody>
      <tr>
        <td>
          <span class="label light-blue">&bull;</span>
          <span class="pr-0.5 label red">&bull;</span>
        </td>
        <td>/root/data/djibouti/dj38.tsp</td>
        <td>Contains points representing cities in Djibouti (Africa)</td>
      </tr>
      <tr>
        <td>
          <span class="label light-blue">&bull;</span>
          <span class="pr-0.5 label red">&bull;</span>
        </td>
        <td>/root/data/qatar/qa194.tsp</td>
        <td>Contains points representing cities in Qatar (Middle East)</td>
      </tr>
      <tr>
        <td>
          <span class="label light-blue">&bull;</span>
          <span class="pr-0.5 label red">&bull;</span>
        </td>
        <td>/root/data/luxembourg/lu980.tsp</td>
        <td>Contains points representing cities in Luxembourg (Europe)</td>
      </tr>
    </tbody>
  </table>
  
  <table class="legend underhang">
    <tr>
      <td><span class="label light-blue">&bull;</span></td>
      <td>=</td>
      <td>From <a href="http://www.math.uwaterloo.ca/tsp/world/countries.html">National Traveling Salesman Problems</a> provided by the University of Waterloo. This source contains data on 25 countries, with as few cities as 29 all the way to 71,009</td>
    </tr>
    <tr>
      <td><span class="label red">&bull;</span></td>
      <td>=</td>
      <td>Formatted as a <a href="https://wwwproxy.iwr.uni-heidelberg.de/groups/comopt/software/TSPLIB95/tsp95.pdf">TSPLIB</a> file</td>
    </tr>
  </table>
  
  <h2 class="mt-2">Stuck?</h2>

  <p>Conveniently, you can print whatever <span class="em">would</span> be executed by <span class="inline-code">demo run</span> by adding <span class="inline-code">--dry-run</span>:</p>

  <pre><code>$ demo run djibouti --dry-run
</code></pre>

  <pre class="output"><code>/root/src/acotsp -i /root/data/djibouti/dj38.tsp --mmas --tries 1 --time 5
</code></pre>

  <pre id="e1"><code>$ demo run -i /root/data/djibouti/dj38.tsp --eas
</code></pre>

  <pre class="output"><code>/root/src/acotsp -i /root/data/djibouti/dj38.tsp --eas
</code></pre>

  <p>
    This way you can wrap the command line in a debugger, profiler, tracer, or any other tool you prefer. If the demo isn't producing the output you expect, try adding log statements to the <a href="">main loop</a>. If you're unsure how to go about changing the demo, read the <a href="">guide</a>.
  </p>
  
</div>

      </div>
      <!-- end content -->
      
    </div>
  </body>
</html>
